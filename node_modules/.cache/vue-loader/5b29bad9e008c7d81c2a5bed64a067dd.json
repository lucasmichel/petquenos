{"remainingRequest":"/opt/lampp/htdocs/frontendpetpequeno/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/lampp/htdocs/frontendpetpequeno/node_modules/vuejs-clipper/src/components/clipper-basic.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/lampp/htdocs/frontendpetpequeno/node_modules/vuejs-clipper/src/components/clipper-basic.vue","mtime":499162500000},{"path":"/opt/lampp/htdocs/frontendpetpequeno/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/frontendpetpequeno/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/frontendpetpequeno/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/lampp/htdocs/frontendpetpequeno/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/frontendpetpequeno/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBiYXNpY01ldGhvZHMsIHJ4RXZlbnRMaXN0ZW5lcnMsIHBsdWdpbk1ldGhvZHMgfSBmcm9tICcuL2V4dGVuZHMvY2xpcHBvJw0KaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnDQppbXBvcnQgew0KICBtYXAsDQogIHRhcCwNCiAgZmlsdGVyLA0KICB0YWtlVW50aWwsDQogIGNvbmNhdE1hcCwNCiAgc3RhcnRXaXRoLA0KICBtZXJnZQ0KfSBmcm9tICdyeGpzL29wZXJhdG9ycycNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZXh0ZW5kczogew0KICAgIG1ldGhvZHM6IGJhc2ljTWV0aG9kcywNCiAgICBtaXhpbnM6IFsgcnhFdmVudExpc3RlbmVycywgcGx1Z2luTWV0aG9kcyBdLy8gbW91c2Vkb3duJCxtb3VzZW1vdmUkLi4uDQogIH0sDQogIHN1YnNjcmlwdGlvbnMgKCkgew0KICAgIHRoaXMuY2hhbmdlJCA9IG5ldyBTdWJqZWN0KCkNCiAgICAvLyBzZXQgdmFsdWUNCiAgICB0aGlzLnNldFdIJCA9IG5ldyBTdWJqZWN0KCkNCiAgICB0aGlzLnNldFRMJCA9IG5ldyBTdWJqZWN0KCkNCiAgICB0aGlzLmluaXRXSFRMJCA9IG5ldyBTdWJqZWN0KCkucGlwZShtYXAodGhpcy5pbml0V0hUTCkpDQogICAgLy8gaW50ZXJ1cHRlcg0KICAgIHRoaXMuc3RvcCQgPSBuZXcgU3ViamVjdCgpDQogICAgLyogZXZlbnRzICovDQogICAgdGhpcy5tb3VzZWRvd25EcmFnJCA9IG5ldyBTdWJqZWN0KCkucGlwZSgvLyBtb3ZpbmcgbGVmdCwgdG9wDQogICAgICBtZXJnZSh0aGlzLm1vdXNlZG93biQpLA0KICAgICAgZmlsdGVyKHRoaXMuaXNEcmFnRWxlbWVudCksDQogICAgICB0YXAodGhpcy5wcmV2ZW50KSwgLy8gZGVhbCB3aXRoIGRvd24sIHdlIHdhbnQgdG8gY2FsYyBkb3duIGp1c3QgZm9yIG9uY2UuDQogICAgICBtYXAoZSA9PiB0aGlzLmVJblpvb20oZSkpLCAvLyDpu57mk4rmmYJ6b29t55qEcG9zaXRpb24scmVjdA0KICAgICAgY29uY2F0TWFwKC8vIOWwh2Rvd24gKHpvb20gcmVjdCksIG1vdmXkuqTntablvoznuowNCiAgICAgICAgKCkgPT4gdGhpcy5tb3VzZW1vdmUkLnBpcGUodGFrZVVudGlsKHRoaXMubW91c2V1cCQpKSwNCiAgICAgICAgKGRvd24sIG1vdmUpID0+IHsNCiAgICAgICAgICByZXR1cm4geyBkb3duLCBtb3ZlIH0NCiAgICAgICAgfQ0KICAgICAgKQ0KICAgICkNCiAgICB0aGlzLnRvdWNoZG93bkRyYWckID0gdGhpcy50b3VjaHN0YXJ0JC5waXBlKA0KICAgICAgZmlsdGVyKHRoaXMuaXNEcmFnRWxlbWVudCksDQogICAgICBmaWx0ZXIoZSA9PiBlLnRvdWNoZXMubGVuZ3RoID09PSAxKSwgLy8g5Zau5oyHDQogICAgICB0YXAodGhpcy5wcmV2ZW50KSwgLy8gZGVhbCB3aXRoIGRvd24sIHdlIHdhbnQgdG8gY2FsYyBkb3duIGp1c3QgZm9yIG9uY2UuDQogICAgICBtYXAoZSA9PiB0aGlzLmVJblpvb20oZS50b3VjaGVzWzBdKSksDQogICAgICBjb25jYXRNYXAoDQogICAgICAgICgpID0+DQogICAgICAgICAgdGhpcy50b3VjaG1vdmUkLnBpcGUoDQogICAgICAgICAgICB0YWtlVW50aWwodGhpcy50b3VjaGVuZCQpLA0KICAgICAgICAgICAgZmlsdGVyKGUgPT4gZS50b3VjaGVzLmxlbmd0aCA9PT0gMSksIC8vIOWWruaMhw0KICAgICAgICAgICAgbWFwKGUgPT4gZS50b3VjaGVzWzBdKQ0KICAgICAgICAgICksDQogICAgICAgIChkb3duLCBtb3ZlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIHsgZG93biwgbW92ZSB9DQogICAgICAgIH0NCiAgICAgICkNCiAgICApDQogICAgdGhpcy5tb3VzZWRvd25ab29tJCA9IG5ldyBTdWJqZWN0KCkucGlwZSgNCiAgICAgIG1lcmdlKHRoaXMubW91c2Vkb3duJCksDQogICAgICBmaWx0ZXIodGhpcy5pc1pvb21FbGVtZW50KSwNCiAgICAgIHRhcCh0aGlzLnByZXZlbnQpLA0KICAgICAgbWFwKHRoaXMuc2V0RG93blBvc2l0aW9uKSwNCiAgICAgIGNvbmNhdE1hcCgNCiAgICAgICAgKCkgPT4gdGhpcy5tb3VzZW1vdmUkLnBpcGUodGFrZVVudGlsKHRoaXMubW91c2V1cCQpKSwNCiAgICAgICAgKGRvd24sIG1vdmUpID0+IHsNCiAgICAgICAgICByZXR1cm4geyBkb3duLCBtb3ZlIH0NCiAgICAgICAgfQ0KICAgICAgKQ0KICAgICkNCiAgICB0aGlzLnRvdWNoZG93blpvb20kID0gdGhpcy50b3VjaHN0YXJ0JC5waXBlKA0KICAgICAgZmlsdGVyKHRoaXMuaXNab29tRWxlbWVudCksDQogICAgICBmaWx0ZXIoZSA9PiBlLnRvdWNoZXMubGVuZ3RoID09PSAxKSwNCiAgICAgIHRhcCh0aGlzLnByZXZlbnQpLA0KICAgICAgbWFwKHRoaXMuc2V0RG93blBvc2l0aW9uKSwNCiAgICAgIGNvbmNhdE1hcCgNCiAgICAgICAgKCkgPT4NCiAgICAgICAgICB0aGlzLnRvdWNobW92ZSQucGlwZSgNCiAgICAgICAgICAgIHRha2VVbnRpbCh0aGlzLnRvdWNoZW5kJCksDQogICAgICAgICAgICBmaWx0ZXIoZSA9PiBlLnRvdWNoZXMubGVuZ3RoID09PSAxKSwNCiAgICAgICAgICAgIG1hcChlID0+IGUudG91Y2hlc1swXSkNCiAgICAgICAgICApLA0KICAgICAgICAoZG93biwgbW92ZSkgPT4gew0KICAgICAgICAgIHJldHVybiB7IGRvd24sIG1vdmUgfQ0KICAgICAgICB9DQogICAgICApDQogICAgKQ0KICAgIHRoaXMudG91Y2hUd29GaW5nZXJzWm9vbSQgPSB0aGlzLnRvdWNoc3RhcnQkLnBpcGUoDQogICAgICBmaWx0ZXIoZSA9PiB7DQogICAgICAgIHJldHVybiBlLnRvdWNoZXMubGVuZ3RoID09PSAyDQogICAgICB9KSwNCiAgICAgIGZpbHRlcih0aGlzLmlzVHdvUG9pbnRab29tRWxlbWVudCksDQogICAgICB0YXAodGhpcy5wcmV2ZW50KSwNCiAgICAgIG1hcCgoKSA9PiB7DQogICAgICAgIHRoaXMuc3RvcCQubmV4dCgwKSAvLyBzdG9wIGRyYWcgY3JlYXRlIGV2ZW50DQogICAgICAgIGNvbnN0IGZyZWV6ZVpvb20gPSB0aGlzLnpvb21Qb3MoKSAvLyBnZXQgem9vbSBwb3NpdGlvbiBhdCBkb3duDQogICAgICAgIHJldHVybiB7IGV2ZW50LCB6b29tOiBmcmVlemVab29tIH0NCiAgICAgIH0pLA0KICAgICAgY29uY2F0TWFwKA0KICAgICAgICAoKSA9Pg0KICAgICAgICAgIHRoaXMudG91Y2htb3ZlJC5waXBlKA0KICAgICAgICAgICAgZmlsdGVyKGUgPT4gZS50b3VjaGVzLmxlbmd0aCA9PT0gMiksDQogICAgICAgICAgICB0YXAodGhpcy5wcmV2ZW50KSwNCiAgICAgICAgICAgIHRha2VVbnRpbCh0aGlzLnRvdWNoZW5kJCkNCiAgICAgICAgICApLA0KICAgICAgICAoZG93biwgbW92ZSkgPT4gew0KICAgICAgICAgIHJldHVybiB0aGlzLmdldFR3b1RvdWNoZXNQb3MoZG93bi5ldmVudCwgbW92ZSwgZG93bi56b29tKQ0KICAgICAgICB9DQogICAgICApDQogICAgKQ0KICAgIHRoaXMubW91c2Vkb3duQ3JlYXRlJCA9IHRoaXMubW91c2Vkb3duJC5waXBlKA0KICAgICAgZmlsdGVyKHRoaXMuaXNDcmVhdGVFbGVtZW50KSwNCiAgICAgIHRhcCh0aGlzLnByZXZlbnQpLA0KICAgICAgbWFwKHRoaXMuZ2V0RmFrZURvd24pLA0KICAgICAgY29uY2F0TWFwKA0KICAgICAgICAoKSA9PiB0aGlzLm1vdXNlbW92ZSQucGlwZSh0YWtlVW50aWwodGhpcy5tb3VzZXVwJCkpLA0KICAgICAgICAoZG93biwgbW92ZSkgPT4gew0KICAgICAgICAgIHJldHVybiB7IGRvd24sIG1vdmUgfQ0KICAgICAgICB9DQogICAgICApDQogICAgKQ0KICAgIHRoaXMudG91Y2hzdGFydENyZWF0ZSQgPSB0aGlzLnRvdWNoc3RhcnQkLnBpcGUoDQogICAgICBmaWx0ZXIodGhpcy5pc0NyZWF0ZUVsZW1lbnQpLA0KICAgICAgdGFwKHRoaXMucHJldmVudCksDQogICAgICBtYXAoZSA9PiBlLnRvdWNoZXNbMF0pLA0KICAgICAgbWFwKHRoaXMuZ2V0RmFrZURvd24pLA0KICAgICAgY29uY2F0TWFwKA0KICAgICAgICAoKSA9Pg0KICAgICAgICAgIHRoaXMudG91Y2htb3ZlJC5waXBlKA0KICAgICAgICAgICAgdGFrZVVudGlsKHRoaXMudG91Y2hlbmQkKSwNCiAgICAgICAgICAgIHRha2VVbnRpbCh0aGlzLnN0b3AkKSwgLy8g5YWp5oyH5LqL5Lu26Ke455m85pmC5YGc5q2iDQogICAgICAgICAgICBmaWx0ZXIoZSA9PiBlLnRvdWNoZXMubGVuZ3RoID09PSAxKSwgLy8g5Zau5oyHDQogICAgICAgICAgICBmaWx0ZXIoKCkgPT4gdGhpcy50b3VjaENyZWF0ZSkNCiAgICAgICAgICApLA0KICAgICAgICAoZG93biwgbW92ZSkgPT4gew0KICAgICAgICAgIC8vIGRvd24gaXMgZmFrZQ0KICAgICAgICAgIHJldHVybiB7IGRvd24sIG1vdmU6IG1vdmUudG91Y2hlc1swXSB9DQogICAgICAgIH0NCiAgICAgICkNCiAgICApDQogICAgLyoqICoqKioqKioqKioqKipNQUlOIFNVQkpFQ1QgKDEpKioqKioqKioqKioqDQogICAgIHBvc2l0aW9uOiBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20gKDIgb2YgNCkgKi8NCiAgICB0aGlzLmRyYWdTdWJqZWN0JCA9IG5ldyBTdWJqZWN0KCkucGlwZSgNCiAgICAgIG1lcmdlKHRoaXMubW91c2Vkb3duRHJhZyQpLA0KICAgICAgbWVyZ2UodGhpcy50b3VjaGRvd25EcmFnJCksDQogICAgICBtYXAodGhpcy5kcmFnTW92aW5nKSAvKiBAZG93bjogZUluWm9vbS4gQG1vdmU6IG1vdXNlL3RvdWNoIG1vdmUgZXZlbnQgKi8sDQogICAgICBtYXAodGhpcy5yZXBvc2l0aW9uRHJhZyksIC8vIHZhbGlkYXRlICYgcmVwb3NpdGlvbiBAZG93bg0KICAgICAgbWVyZ2UodGhpcy5zZXRUTCQpLCAvLyB0aGlzIG11c3QgYmUgdmFsaWRhdGUgcG9zISEhISAoaW4gcmFuZ2UpDQogICAgICBzdGFydFdpdGgoeyBsZWZ0OiAwLCB0b3A6IDAgfSkgLy8gdm0gdmlldyBub3QgaW5pdCB5ZXQgKHRoaXMuem9vbUVsPT09bnVsbCkuIFRvIHByZXZlbnQgImNhbm5vdCByZWFkICdsZWZ0JyBvZiB1bmRlZmluZWQiDQogICAgKQ0KICAgIC8qKiAqKioqKioqKioqKioqTUFJTiBTVUJKRUNUICgzKSoqKioqKioqKioqKg0KICAgIFN1YmplY3QgMywg6LW35aeLZXZlbnTkuI3lkIzvvIzomZXnkIblvozlgrPntaZ6b29tU3ViamVjdCQNCiAgICAqLw0KICAgIHRoaXMuZHJhZ0NyZWF0ZVN1YmplY3QkID0gdGhpcy5tb3VzZWRvd25DcmVhdGUkDQogICAgICAucGlwZSgNCiAgICAgICAgbWVyZ2UodGhpcy50b3VjaHN0YXJ0Q3JlYXRlJCksDQogICAgICAgIG1hcCgoeyBkb3duLCBtb3ZlIH0pID0+IHsNCiAgICAgICAgICByZXR1cm4geyBkb3duLCBtb3ZlIH0NCiAgICAgICAgfSkNCiAgICAgICkNCiAgICAvKiogKioqKioqKioqKioqKk1BSU4gU1VCSkVDVCAoMikqKioqKioqKioqKioNCiAgICAgd2lkdGgsIGhlaWdodCAqLw0KICAgIHRoaXMuem9vbVN1YmplY3QkID0gbmV3IFN1YmplY3QoKS5waXBlKA0KICAgICAgbWVyZ2UodGhpcy5tb3VzZWRvd25ab29tJCksIC8vIG1vdXNlIGV2ZW50DQogICAgICBtZXJnZSh0aGlzLnRvdWNoZG93blpvb20kKSwgLy8gdG91Y2ggZXZlbnQgMSBmaW5nZXINCiAgICAgIG1lcmdlKHRoaXMuZHJhZ0NyZWF0ZVN1YmplY3QkKSwgLy8gZHJhZ0NyZWF0ZVN1YmplY3QkDQogICAgICBtYXAodGhpcy5yZXZlcnNlRG93blBvcyksIC8vIG1vZGUgJ3N3aXRjaCcNCiAgICAgIG1hcCh0aGlzLnpvb21pbmdQb3NpdGlvbiksIC8vIOeUqOWJtemAoOeahHpvb20gcmVjdOWOu+ioiOeul+aLluaLieW+jOeahOS9jee9rg0KICAgICAgbWVyZ2UodGhpcy50b3VjaFR3b0ZpbmdlcnNab29tJCksIC8qIHRvdWNoIGV2ZW50IDIgZmluZ2VycyjlhanmjIfnuK7mlL4pKiAg5ZKM5LiK6Z2i5LqL5Lu25YiG6ZaL77yM566X5rOV5LiN5ZCMICovDQogICAgICAvLyB7IGRvd24sIG1vdmUgfSA9PiB7IHdpZHRoLCBoZWlnaHQsIG1heFdpZHRoLCBtYXhIZWlnaHQsIGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbSB9DQogICAgICBtYXAodGhpcy5zZXRSYXRpb1dIKSwNCiAgICAgIG1hcCh0aGlzLnRvUGVyY2VudGFnZSksDQogICAgICBtYXAodGhpcy5zcGxpdFBvcyksDQogICAgICBtYXAoc3BsaXQgPT4gew0KICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHNwbGl0LnRsDQogICAgICAgIGNvbnN0IHNpemUgPSBzcGxpdC53aA0KICAgICAgICB0aGlzLnNldFRMJC5uZXh0KHBvc2l0aW9uKQ0KICAgICAgICByZXR1cm4gc2l6ZQ0KICAgICAgfSksDQogICAgICBzdGFydFdpdGgoeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pLA0KICAgICAgbWVyZ2UodGhpcy5pbml0V0hUTCQpLA0KICAgICAgbWVyZ2UodGhpcy5zZXRXSCQpDQogICAgKQ0KICAgIHRoaXMub25DaGFuZ2UkID0gbmV3IFN1YmplY3QoKS5waXBlKA0KICAgICAgbWVyZ2UodGhpcy5kcmFnU3ViamVjdCQpLA0KICAgICAgbWVyZ2UodGhpcy5jaGFuZ2UkKQ0KICAgICkNCiAgICByZXR1cm4gew0KICAgICAgLy8gc3Vic2NyaXB0aW9ucw0KICAgICAgem9vbVRMJDogdGhpcy5kcmFnU3ViamVjdCQsDQogICAgICB6b29tV0gkOiB0aGlzLnpvb21TdWJqZWN0JA0KICAgIH0NCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBwcmV2aWV3OiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJw0KICAgIH0sDQogICAgc3JjOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJw0KICAgIH0sDQogICAgYm9yZGVyOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAxDQogICAgfSwNCiAgICBvdXRsaW5lOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiA2DQogICAgfSwNCiAgICBjb3JuZXI6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfSwNCiAgICBncmlkOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgbW9kZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ25vcm1hbCcNCiAgICB9LA0KICAgIHJhdGlvOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiBOYU4NCiAgICB9LA0KICAgIHdyYXBSYXRpbzogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogTmFODQogICAgfSwNCiAgICB0b3VjaENyZWF0ZTogew0KICAgICAgLy8gZW5hYmxlL2Rpc2FibGUgY3JlYXRlIG5ldyB6b29tIGFyZWEgaW4gdG91Y2ggZGV2aWNlOw0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIHJvdGF0ZTogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMA0KICAgIH0sDQogICAgYmdDb2xvcjogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ3doaXRlJw0KICAgIH0sDQogICAgbGluZUNvbG9yOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnIzFiYWFlOCcNCiAgICB9LA0KICAgIHNoYWRvdzogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ3JnYmEoMCwgMCwgMCwgMC40KScNCiAgICB9LA0KICAgIHNjYWxlOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAxDQogICAgfSwNCiAgICBtaW5XaWR0aDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMQ0KICAgIH0sDQogICAgbWluSGVpZ2h0OiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAxDQogICAgfSwNCiAgICBpbml0V2lkdGg6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDUwDQogICAgfSwNCiAgICBpbml0SGVpZ2h0OiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiA1MA0KICAgIH0sDQogICAgY3Jvc3NPcmlnaW46IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZA0KICAgIH0NCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGltZ1JhdGlvOiBOYU4NCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgcG9zT2JqOiBmdW5jdGlvbiAoKSB7DQogICAgICBsZXQgc3R5bGUgPSB7DQogICAgICAgICd3aWR0aCc6IGAke3RoaXMuem9vbVdIJC53aWR0aH0lICFpbXBvcnRhbnRgLA0KICAgICAgICAnaGVpZ2h0JzogYCR7dGhpcy56b29tV0gkLmhlaWdodH0lICFpbXBvcnRhbnRgLA0KICAgICAgICAnY29sb3InOiBgJHt0aGlzLnNoYWRvd30gIWltcG9ydGFudGAsDQogICAgICAgICdib3gtc2hhZG93JzogYCAwIDAgMCAke3RoaXMuYm9yZGVyfXB4ICR7dGhpcy5saW5lQ29sb3J9LCAwIDAgMCAke3RoaXMuX3NoYWRvd31gDQogICAgICB9DQogICAgICBmb3IgKGxldCBrIGluIHRoaXMuem9vbVRMJCkgew0KICAgICAgICBpZiAodHlwZW9mIHRoaXMuem9vbVRMJFtrXSA9PT0gJ251bWJlcicpIHsgc3R5bGVba10gPSBgJHt0aGlzLnpvb21UTCRba119JSAhaW1wb3J0YW50YCB9DQogICAgICB9DQogICAgICByZXR1cm4gc3R5bGUNCiAgICB9LA0KICAgIHBhZFN0eWxlOiBmdW5jdGlvbiAoKSB7DQogICAgICBjb25zdCBkaXNwbGF5ID0gYCR7KHRoaXMuc3JjKSA/ICdibG9jaycgOiAnbm9uZSd9ICFpbXBvcnRhbnRgDQogICAgICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSBgJHt0aGlzLmJnQ29sb3J9ICFpbXBvcnRhbnRgDQogICAgICByZXR1cm4gew0KICAgICAgICBkaXNwbGF5LA0KICAgICAgICBwYWRkaW5nOiBgJHt0aGlzLmJvcmRlcn1weGAsDQogICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogYmFja2dyb3VuZENvbG9yDQogICAgICB9DQogICAgfSwNCiAgICBpblBhZFN0eWxlOiBmdW5jdGlvbiAoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBwYWRkaW5nOiBgJHt0aGlzLmJvcmRlcn1weGANCiAgICAgIH0NCiAgICB9LA0KICAgIHNjYWxlU3R5bGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIHRyYW5zZm9ybTogYHNjYWxlKCR7dGhpcy5zY2FsZX0pICFpbXBvcnRhbnRgDQogICAgICB9DQogICAgfSwNCiAgICByb3RhdGVTdHlsZTogZnVuY3Rpb24gKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgdHJhbnNmb3JtOiBgcm90YXRlKCR7dGhpcy5yb3RhdGV9ZGVnKSAhaW1wb3J0YW50YA0KICAgICAgfQ0KICAgIH0sDQogICAgZXB0U3R5bGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGNvbnN0IGRpc3BsYXkgPSBgJHsodGhpcy5zcmMpID8gJ25vbmUnIDogJ2Jsb2NrJ30gIWltcG9ydGFudGANCiAgICAgIHJldHVybiB7IGRpc3BsYXkgfQ0KICAgIH0sDQogICAgZXhPdXRlclN0eWxlOiBmdW5jdGlvbiAoKSB7DQogICAgICBjb25zdCBfb3V0bGluZSA9IGAke3RoaXMub3V0bGluZSArIHRoaXMuYm9yZGVyfXB4YA0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgJ2JvcmRlci13aWR0aCc6IGAke19vdXRsaW5lfSAhaW1wb3J0YW50YCwNCiAgICAgICAgJ3RyYW5zZm9ybSc6IGB0cmFuc2xhdGUoLSR7X291dGxpbmV9LC0ke19vdXRsaW5lfSkgIWltcG9ydGFudGANCiAgICAgIH0NCiAgICB9LA0KICAgIGV4SW5uZXJTdHlsZTogZnVuY3Rpb24gKCkgew0KICAgICAgY29uc3QgX2lubGluZSA9IGAke3RoaXMub3V0bGluZX1weCAhaW1wb3J0YW50YA0KICAgICAgcmV0dXJuIHsgcGFkZGluZzogX2lubGluZSB9DQogICAgfSwNCiAgICBfc2hhZG93OiBmdW5jdGlvbiAoKSB7DQogICAgICByZXR1cm4gYCR7KHRoaXMuaW1nUmF0aW8gPj0gMSA/IDEwMCA6ICgxMDAgLyB0aGlzLmltZ1JhdGlvKSl9dndgDQogICAgfSwNCiAgICBzdGVtQXJlYTogZnVuY3Rpb24gKCkgew0KICAgICAgaWYgKHRoaXMud3JhcFJhdGlvKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgd2lkdGg6IDEwMCAqIHRoaXMud3JhcFJhdGlvLA0KICAgICAgICAgIGhlaWdodDogMTAwDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbWdSYXRpbykgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIHdpZHRoOiB0aGlzLmltZ0VsLm5hdHVyYWxXaWR0aCwNCiAgICAgICAgICBoZWlnaHQ6IHRoaXMuaW1nRWwubmF0dXJhbEhlaWdodA0KICAgICAgICB9DQogICAgICB9IGVsc2UgcmV0dXJuIHt9DQogICAgfSwNCiAgICBpc1ZlcnRpY2FsOiBmdW5jdGlvbiAoKSB7DQogICAgICAvLyBQcmV2ZW50IGltZyBmcm9tIG92ZXJmbG93aW5nDQogICAgICBjb25zdCByYXRpbyA9IHRoaXMud3JhcFJhdGlvIHx8IHRoaXMucmF0aW8NCiAgICAgIGlmICghcmF0aW8pIHJldHVybiBmYWxzZQ0KICAgICAgcmV0dXJuIHRoaXMuaW1nUmF0aW8gPCByYXRpbw0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICByYXRpbyAoKSB7DQogICAgICB0aGlzLnJlc2V0RGF0YSgpDQogICAgfSwNCiAgICB3cmFwUmF0aW8gKCkgew0KICAgICAgdGhpcy5yZXNldERhdGEoKQ0KICAgIH0sDQogICAgYmdDb2xvciAoKSB7DQogICAgICB0aGlzLmNhbGxQcmV2aWV3KCdzZXREYXRhJywgeyBiZ0NvbG9yOiB0aGlzLmJnQ29sb3IgfSkNCiAgICB9LA0KICAgIGJvcmRlciAoKSB7DQogICAgICB0aGlzLmNoYW5nZSQubmV4dCgwKQ0KICAgIH0sDQogICAgc2NhbGVTdHlsZSAoKSB7DQogICAgICB0aGlzLmNoYW5nZSQubmV4dCgwKQ0KICAgIH0sDQogICAgcm90YXRlU3R5bGUgKCkgew0KICAgICAgdGhpcy5jaGFuZ2UkLm5leHQoMCkNCiAgICB9DQogIH0sDQogIG1vdW50ZWQgKCkgew0KICAgIHRoaXMuaW1nRWwgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcuanMtY2xpcHBlci1iYXNpYyAuanMtaW1nJykNCiAgICB0aGlzLmltZ1Bvc0VsID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLmpzLWltZy1wb3MnKSAvLyB0byBnZXQgdGhlIGltYWdlIHBvc2l0aW9uIHdpdGhvdXQgcm90YXRpb24NCiAgICB0aGlzLmNhbnZhc0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnQ0FOVkFTJykNCiAgICB0aGlzLmFyZWFFbCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5qcy1jbGlwcGVyLWJhc2ljIC5qcy1jbGlwLWFyZWEnKQ0KICAgIHRoaXMuc2NhbGVFbCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5qcy1jbGlwcGVyLWJhc2ljIC5qcy1pbWctc2NhbGUnKQ0KICAgIHRoaXMuem9vbUVsID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLmpzLWNsaXBwZXItYmFzaWMgLmpzLXpvb20tYXJlYScpDQogICAgdGhpcy5kcmFnRWwgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcuanMtY2xpcHBlci1iYXNpYyAuanMtZHJhZy1pbnNldCcpDQogICAgaWYgKHRoaXMucHJldmlldykgew0KICAgICAgdGhpcy4kc3Vic2NyaWJlVG8odGhpcy5vbkNoYW5nZSQsICgpID0+IHsNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIC8vIHdhaXQgZm9yIHZ1ZSByZW5kZXIgZG9tLg0KICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZ2V0RHJhd1BvcygpLnBvcw0KICAgICAgICAgIGNvbnN0IHJvdGF0ZSA9IHRoaXMucm90YXRlDQogICAgICAgICAgaWYgKHRoaXMuaW52YWxpZERyYXdQb3MocmVzdWx0KSkgcmV0dXJuDQogICAgICAgICAgdGhpcy5jYWxsUHJldmlldygnbG9jYXRlSW1hZ2UnLCByZXN1bHQsIHJvdGF0ZSkNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW1nTG9hZGVkOiBmdW5jdGlvbiAoKSB7DQogICAgICAvLyByZXNldA0KICAgICAgdGhpcy5jYWxsUHJldmlldygnc2V0RGF0YScsIHsNCiAgICAgICAgc3JjOiB0aGlzLnNyYywNCiAgICAgICAgYmdDb2xvcjogdGhpcy5iZ0NvbG9yDQogICAgICB9KQ0KICAgICAgdGhpcy5pbWdSYXRpbyA9IHRoaXMuaW1nRWwubmF0dXJhbFdpZHRoIC8gdGhpcy5pbWdFbC5uYXR1cmFsSGVpZ2h0DQogICAgICB0aGlzLnJlc2V0RGF0YSgpDQogICAgfSwNCiAgICByZXNldERhdGE6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy5pbml0V0hUTCQubmV4dCh0cnVlKQ0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["clipper-basic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"clipper-basic.vue","sourceRoot":"node_modules/vuejs-clipper/src/components","sourcesContent":["<template>\r\n  <div class=\"js-clipper-basic\">\r\n    <div\r\n      class=\"vuejs-clipper-basic__padding\"\r\n      :style=\"padStyle\"\r\n    >\r\n      <canvas\r\n        class=\"vuejs-clipper-basic__stem-canvas\"\r\n        :width=\"stemArea.width\"\r\n        :height=\"stemArea.height\"\r\n      />\r\n      <div\r\n        class=\"vuejs-clipper-basic__in-pad\"\r\n        :style=\"inPadStyle\"\r\n      >\r\n        <div\r\n          class=\"vuejs-clipper-basic__img-wrap\"\r\n          :class=\"{ vertical: isVertical }\"\r\n        >\r\n          <div\r\n            class=\"vuejs-clipper-basic__img-scale js-img-scale\"\r\n            :style=\"scaleStyle\"\r\n          >\r\n            <div class=\"vuejs-clipper-basic__img-pos js-img-pos\">\r\n              <img\r\n                :src=\"src\"\r\n                class=\"vuejs-clipper-basic__img js-img\"\r\n                :style=\"rotateStyle\"\r\n                :crossorigin=\"crossOrigin\"\r\n                @load=\"imgLoaded();emit('load',$event)\"\r\n                @error=\"emit('error',$event)\"\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"vuejs-clipper-basic__in-pad\"\r\n        :style=\"inPadStyle\"\r\n      >\r\n        <div class=\"vuejs-clipper-basic__clip-area js-clip-area\">\r\n          <div\r\n            class=\"vuejs-clipper-basic__zoom-area js-zoom-area\"\r\n            :style=\"posObj\"\r\n          >\r\n            <div\r\n              class=\"vuejs-clipper-basic__extend vuejs-clipper-basic__extend--outer\"\r\n              :style=\"exOuterStyle\"\r\n            />\r\n            <div\r\n              class=\"vuejs-clipper-basic__extend vuejs-clipper-basic__extend--inner\"\r\n              :style=\"exInnerStyle\"\r\n            >\r\n              <div class=\"vuejs-clipper-basic__drag-inset js-drag-inset\" />\r\n            </div>\r\n            <div v-if=\"corner\">\r\n              <div\r\n                v-for=\"index in 4\"\r\n                :key=\"'corner'+index\"\r\n                class=\"vuejs-clipper-basic__corner\"\r\n                :class=\"`vuejs-clipper-basic__corner${index}`\"\r\n              />\r\n            </div>\r\n            <div\r\n              v-if=\"grid\"\r\n              class=\"vuejs-clipper-basic__grid\"\r\n            >\r\n              <div\r\n                v-for=\"index in 4\"\r\n                :key=\"'gridItem'+index\"\r\n                class=\"vuejs-clipper-basic__grid-item\"\r\n              />\r\n            </div>\r\n            <slot name=\"vuejs-clipper-basic__area\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div\r\n      class=\"vuejs-clipper-basic__placeholder\"\r\n      :style=\"eptStyle\"\r\n    >\r\n      <slot name=\"placeholder\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { basicMethods, rxEventListeners, pluginMethods } from './extends/clippo'\r\nimport { Subject } from 'rxjs'\r\nimport {\r\n  map,\r\n  tap,\r\n  filter,\r\n  takeUntil,\r\n  concatMap,\r\n  startWith,\r\n  merge\r\n} from 'rxjs/operators'\r\nexport default {\r\n  extends: {\r\n    methods: basicMethods,\r\n    mixins: [ rxEventListeners, pluginMethods ]// mousedown$,mousemove$...\r\n  },\r\n  subscriptions () {\r\n    this.change$ = new Subject()\r\n    // set value\r\n    this.setWH$ = new Subject()\r\n    this.setTL$ = new Subject()\r\n    this.initWHTL$ = new Subject().pipe(map(this.initWHTL))\r\n    // interupter\r\n    this.stop$ = new Subject()\r\n    /* events */\r\n    this.mousedownDrag$ = new Subject().pipe(// moving left, top\r\n      merge(this.mousedown$),\r\n      filter(this.isDragElement),\r\n      tap(this.prevent), // deal with down, we want to calc down just for once.\r\n      map(e => this.eInZoom(e)), // 點擊時zoom的position,rect\r\n      concatMap(// 將down (zoom rect), move交給後續\r\n        () => this.mousemove$.pipe(takeUntil(this.mouseup$)),\r\n        (down, move) => {\r\n          return { down, move }\r\n        }\r\n      )\r\n    )\r\n    this.touchdownDrag$ = this.touchstart$.pipe(\r\n      filter(this.isDragElement),\r\n      filter(e => e.touches.length === 1), // 單指\r\n      tap(this.prevent), // deal with down, we want to calc down just for once.\r\n      map(e => this.eInZoom(e.touches[0])),\r\n      concatMap(\r\n        () =>\r\n          this.touchmove$.pipe(\r\n            takeUntil(this.touchend$),\r\n            filter(e => e.touches.length === 1), // 單指\r\n            map(e => e.touches[0])\r\n          ),\r\n        (down, move) => {\r\n          return { down, move }\r\n        }\r\n      )\r\n    )\r\n    this.mousedownZoom$ = new Subject().pipe(\r\n      merge(this.mousedown$),\r\n      filter(this.isZoomElement),\r\n      tap(this.prevent),\r\n      map(this.setDownPosition),\r\n      concatMap(\r\n        () => this.mousemove$.pipe(takeUntil(this.mouseup$)),\r\n        (down, move) => {\r\n          return { down, move }\r\n        }\r\n      )\r\n    )\r\n    this.touchdownZoom$ = this.touchstart$.pipe(\r\n      filter(this.isZoomElement),\r\n      filter(e => e.touches.length === 1),\r\n      tap(this.prevent),\r\n      map(this.setDownPosition),\r\n      concatMap(\r\n        () =>\r\n          this.touchmove$.pipe(\r\n            takeUntil(this.touchend$),\r\n            filter(e => e.touches.length === 1),\r\n            map(e => e.touches[0])\r\n          ),\r\n        (down, move) => {\r\n          return { down, move }\r\n        }\r\n      )\r\n    )\r\n    this.touchTwoFingersZoom$ = this.touchstart$.pipe(\r\n      filter(e => {\r\n        return e.touches.length === 2\r\n      }),\r\n      filter(this.isTwoPointZoomElement),\r\n      tap(this.prevent),\r\n      map(() => {\r\n        this.stop$.next(0) // stop drag create event\r\n        const freezeZoom = this.zoomPos() // get zoom position at down\r\n        return { event, zoom: freezeZoom }\r\n      }),\r\n      concatMap(\r\n        () =>\r\n          this.touchmove$.pipe(\r\n            filter(e => e.touches.length === 2),\r\n            tap(this.prevent),\r\n            takeUntil(this.touchend$)\r\n          ),\r\n        (down, move) => {\r\n          return this.getTwoTouchesPos(down.event, move, down.zoom)\r\n        }\r\n      )\r\n    )\r\n    this.mousedownCreate$ = this.mousedown$.pipe(\r\n      filter(this.isCreateElement),\r\n      tap(this.prevent),\r\n      map(this.getFakeDown),\r\n      concatMap(\r\n        () => this.mousemove$.pipe(takeUntil(this.mouseup$)),\r\n        (down, move) => {\r\n          return { down, move }\r\n        }\r\n      )\r\n    )\r\n    this.touchstartCreate$ = this.touchstart$.pipe(\r\n      filter(this.isCreateElement),\r\n      tap(this.prevent),\r\n      map(e => e.touches[0]),\r\n      map(this.getFakeDown),\r\n      concatMap(\r\n        () =>\r\n          this.touchmove$.pipe(\r\n            takeUntil(this.touchend$),\r\n            takeUntil(this.stop$), // 兩指事件觸發時停止\r\n            filter(e => e.touches.length === 1), // 單指\r\n            filter(() => this.touchCreate)\r\n          ),\r\n        (down, move) => {\r\n          // down is fake\r\n          return { down, move: move.touches[0] }\r\n        }\r\n      )\r\n    )\r\n    /** *************MAIN SUBJECT (1)************\r\n     position: left, top, right, bottom (2 of 4) */\r\n    this.dragSubject$ = new Subject().pipe(\r\n      merge(this.mousedownDrag$),\r\n      merge(this.touchdownDrag$),\r\n      map(this.dragMoving) /* @down: eInZoom. @move: mouse/touch move event */,\r\n      map(this.repositionDrag), // validate & reposition @down\r\n      merge(this.setTL$), // this must be validate pos!!!! (in range)\r\n      startWith({ left: 0, top: 0 }) // vm view not init yet (this.zoomEl===null). To prevent \"cannot read 'left' of undefined\"\r\n    )\r\n    /** *************MAIN SUBJECT (3)************\r\n    Subject 3, 起始event不同，處理後傳給zoomSubject$\r\n    */\r\n    this.dragCreateSubject$ = this.mousedownCreate$\r\n      .pipe(\r\n        merge(this.touchstartCreate$),\r\n        map(({ down, move }) => {\r\n          return { down, move }\r\n        })\r\n      )\r\n    /** *************MAIN SUBJECT (2)************\r\n     width, height */\r\n    this.zoomSubject$ = new Subject().pipe(\r\n      merge(this.mousedownZoom$), // mouse event\r\n      merge(this.touchdownZoom$), // touch event 1 finger\r\n      merge(this.dragCreateSubject$), // dragCreateSubject$\r\n      map(this.reverseDownPos), // mode 'switch'\r\n      map(this.zoomingPosition), // 用創造的zoom rect去計算拖拉後的位置\r\n      merge(this.touchTwoFingersZoom$), /* touch event 2 fingers(兩指縮放)*  和上面事件分開，算法不同 */\r\n      // { down, move } => { width, height, maxWidth, maxHeight, left, top, right, bottom }\r\n      map(this.setRatioWH),\r\n      map(this.toPercentage),\r\n      map(this.splitPos),\r\n      map(split => {\r\n        const position = split.tl\r\n        const size = split.wh\r\n        this.setTL$.next(position)\r\n        return size\r\n      }),\r\n      startWith({ width: 0, height: 0 }),\r\n      merge(this.initWHTL$),\r\n      merge(this.setWH$)\r\n    )\r\n    this.onChange$ = new Subject().pipe(\r\n      merge(this.dragSubject$),\r\n      merge(this.change$)\r\n    )\r\n    return {\r\n      // subscriptions\r\n      zoomTL$: this.dragSubject$,\r\n      zoomWH$: this.zoomSubject$\r\n    }\r\n  },\r\n  props: {\r\n    preview: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    src: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    border: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    outline: {\r\n      type: Number,\r\n      default: 6\r\n    },\r\n    corner: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    grid: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    mode: {\r\n      type: String,\r\n      default: 'normal'\r\n    },\r\n    ratio: {\r\n      type: Number,\r\n      default: NaN\r\n    },\r\n    wrapRatio: {\r\n      type: Number,\r\n      default: NaN\r\n    },\r\n    touchCreate: {\r\n      // enable/disable create new zoom area in touch device;\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    rotate: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    bgColor: {\r\n      type: String,\r\n      default: 'white'\r\n    },\r\n    lineColor: {\r\n      type: String,\r\n      default: '#1baae8'\r\n    },\r\n    shadow: {\r\n      type: String,\r\n      default: 'rgba(0, 0, 0, 0.4)'\r\n    },\r\n    scale: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    minWidth: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    minHeight: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    initWidth: {\r\n      type: Number,\r\n      default: 50\r\n    },\r\n    initHeight: {\r\n      type: Number,\r\n      default: 50\r\n    },\r\n    crossOrigin: {\r\n      type: String,\r\n      default: undefined\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      imgRatio: NaN\r\n    }\r\n  },\r\n  computed: {\r\n    posObj: function () {\r\n      let style = {\r\n        'width': `${this.zoomWH$.width}% !important`,\r\n        'height': `${this.zoomWH$.height}% !important`,\r\n        'color': `${this.shadow} !important`,\r\n        'box-shadow': ` 0 0 0 ${this.border}px ${this.lineColor}, 0 0 0 ${this._shadow}`\r\n      }\r\n      for (let k in this.zoomTL$) {\r\n        if (typeof this.zoomTL$[k] === 'number') { style[k] = `${this.zoomTL$[k]}% !important` }\r\n      }\r\n      return style\r\n    },\r\n    padStyle: function () {\r\n      const display = `${(this.src) ? 'block' : 'none'} !important`\r\n      const backgroundColor = `${this.bgColor} !important`\r\n      return {\r\n        display,\r\n        padding: `${this.border}px`,\r\n        'background-color': backgroundColor\r\n      }\r\n    },\r\n    inPadStyle: function () {\r\n      return {\r\n        padding: `${this.border}px`\r\n      }\r\n    },\r\n    scaleStyle: function () {\r\n      return {\r\n        transform: `scale(${this.scale}) !important`\r\n      }\r\n    },\r\n    rotateStyle: function () {\r\n      return {\r\n        transform: `rotate(${this.rotate}deg) !important`\r\n      }\r\n    },\r\n    eptStyle: function () {\r\n      const display = `${(this.src) ? 'none' : 'block'} !important`\r\n      return { display }\r\n    },\r\n    exOuterStyle: function () {\r\n      const _outline = `${this.outline + this.border}px`\r\n      return {\r\n        'border-width': `${_outline} !important`,\r\n        'transform': `translate(-${_outline},-${_outline}) !important`\r\n      }\r\n    },\r\n    exInnerStyle: function () {\r\n      const _inline = `${this.outline}px !important`\r\n      return { padding: _inline }\r\n    },\r\n    _shadow: function () {\r\n      return `${(this.imgRatio >= 1 ? 100 : (100 / this.imgRatio))}vw`\r\n    },\r\n    stemArea: function () {\r\n      if (this.wrapRatio) {\r\n        return {\r\n          width: 100 * this.wrapRatio,\r\n          height: 100\r\n        }\r\n      } else if (this.imgRatio) {\r\n        return {\r\n          width: this.imgEl.naturalWidth,\r\n          height: this.imgEl.naturalHeight\r\n        }\r\n      } else return {}\r\n    },\r\n    isVertical: function () {\r\n      // Prevent img from overflowing\r\n      const ratio = this.wrapRatio || this.ratio\r\n      if (!ratio) return false\r\n      return this.imgRatio < ratio\r\n    }\r\n  },\r\n  watch: {\r\n    ratio () {\r\n      this.resetData()\r\n    },\r\n    wrapRatio () {\r\n      this.resetData()\r\n    },\r\n    bgColor () {\r\n      this.callPreview('setData', { bgColor: this.bgColor })\r\n    },\r\n    border () {\r\n      this.change$.next(0)\r\n    },\r\n    scaleStyle () {\r\n      this.change$.next(0)\r\n    },\r\n    rotateStyle () {\r\n      this.change$.next(0)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.imgEl = this.$el.querySelector('.js-clipper-basic .js-img')\r\n    this.imgPosEl = this.$el.querySelector('.js-img-pos') // to get the image position without rotation\r\n    this.canvasEl = document.createElement('CANVAS')\r\n    this.areaEl = this.$el.querySelector('.js-clipper-basic .js-clip-area')\r\n    this.scaleEl = this.$el.querySelector('.js-clipper-basic .js-img-scale')\r\n    this.zoomEl = this.$el.querySelector('.js-clipper-basic .js-zoom-area')\r\n    this.dragEl = this.$el.querySelector('.js-clipper-basic .js-drag-inset')\r\n    if (this.preview) {\r\n      this.$subscribeTo(this.onChange$, () => {\r\n        this.$nextTick(() => {\r\n          // wait for vue render dom.\r\n          const result = this.getDrawPos().pos\r\n          const rotate = this.rotate\r\n          if (this.invalidDrawPos(result)) return\r\n          this.callPreview('locateImage', result, rotate)\r\n        })\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    imgLoaded: function () {\r\n      // reset\r\n      this.callPreview('setData', {\r\n        src: this.src,\r\n        bgColor: this.bgColor\r\n      })\r\n      this.imgRatio = this.imgEl.naturalWidth / this.imgEl.naturalHeight\r\n      this.resetData()\r\n    },\r\n    resetData: function () {\r\n      this.$nextTick(() => {\r\n        this.initWHTL$.next(true)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n$hover_sec: 0.5s;\r\n$grid-width: 1px; //dive 2\r\n\r\n.vertical.vuejs-clipper-basic__img-wrap {\r\n  &, .vuejs-clipper-basic__img, .vuejs-clipper-basic__img-pos {\r\n    width: auto !important;\r\n    height: 100% !important;\r\n  }\r\n}\r\n.vuejs-clipper-basic__img-pos {\r\n  width: 100% !important;\r\n}\r\n.vuejs-clipper-basic__img-wrap {\r\n  position: relative !important;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  overflow: hidden !important;\r\n  box-sizing: border-box !important;\r\n  & .vuejs-clipper-basic__img {\r\n    position: relative !important;\r\n    width: 100% !important;\r\n    display: block !important;\r\n    pointer-events: none !important;\r\n  }\r\n}\r\n.vuejs-clipper-basic__stem-canvas {\r\n  pointer-events: none !important;\r\n  display: block !important;\r\n  width: 100% !important;\r\n}\r\n.vuejs-clipper-basic__padding {\r\n  position: relative !important;\r\n  width: 100% !important;\r\n  box-sizing: border-box !important;\r\n  overflow: hidden;\r\n}\r\n.vuejs-clipper-basic__in-pad {\r\n  position: absolute !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  box-sizing: border-box !important;\r\n}\r\n.vuejs-clipper-basic__img-scale {\r\n  pointer-events: none !important;\r\n  position: relative !important;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  top: 0;\r\n  left: 0;\r\n  display: flex !important;\r\n  justify-content: center !important;\r\n  align-items: center;\r\n}\r\n.vuejs-clipper-basic__clip-area {\r\n  position: relative !important;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  cursor: crosshair;\r\n}\r\n.vuejs-clipper-basic__zoom-area {\r\n  position: absolute !important;\r\n  overflow: visible !important;\r\n}\r\n.vuejs-clipper-basic__corner {\r\n  position: absolute;\r\n  border-color: white;\r\n  border-style: solid;\r\n  width: 10px;\r\n  height: 10px;\r\n  opacity: 0.7;\r\n}\r\n.vuejs-clipper-basic__corner:hover {\r\n  opacity: 1;\r\n}\r\n.vuejs-clipper-basic__corner1 {\r\n  top: 0;\r\n  left: 0;\r\n  border-width: 3px 0px 0px 3px;\r\n  cursor: nwse-resize;\r\n}\r\n.vuejs-clipper-basic__corner2 {\r\n  top: 0;\r\n  right: 0;\r\n  border-width: 3px 3px 0px 0px;\r\n  cursor: nesw-resize;\r\n}\r\n.vuejs-clipper-basic__corner3 {\r\n  bottom: 0;\r\n  right: 0;\r\n  border-width: 0px 3px 3px 0px;\r\n  cursor: nwse-resize;\r\n}\r\n.vuejs-clipper-basic__corner4 {\r\n  bottom: 0;\r\n  left: 0;\r\n  border-width: 0px 0px 3px 3px;\r\n  cursor: nesw-resize;\r\n}\r\n.vuejs-clipper-basic__extend {\r\n  color: white;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: move;\r\n  &--outer {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    border-style: solid;\r\n    box-sizing: content-box;\r\n    opacity: 0;\r\n    transition: opacity $hover_sec;\r\n    &:hover {\r\n      opacity: 0.3;\r\n    }\r\n  }\r\n  &--inner {\r\n    position: relative;\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n    &:hover .vuejs-clipper-basic__drag-inset {\r\n      opacity: 0.3;\r\n    }\r\n    &:hover .vuejs-clipper-basic__drag-inset:hover.vuejs-clipper-basic__drag-inset {\r\n      opacity: 0;\r\n    }\r\n  }\r\n}\r\n.vuejs-clipper-basic__drag-inset {\r\n  position: relative;\r\n  box-shadow: 0px 0px 0px 4080px white;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: grab;\r\n  opacity: 0;\r\n  transition: opacity $hover_sec;\r\n}\r\n.vuejs-clipper-basic__grid {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  pointer-events: none;\r\n}\r\n.vuejs-clipper-basic__grid-item {\r\n  position: absolute;\r\n  border-color: rgba(255, 255, 255, 0.7);\r\n  border-style: dashed;\r\n  width: 50%;\r\n  height: 50%;\r\n  box-sizing: border-box;\r\n}\r\n.vuejs-clipper-basic__grid-item:nth-child(1) {\r\n  top: 0;\r\n  left: 0;\r\n  border-width: 0 $grid-width $grid-width 0;\r\n  transform: translate($grid-width/2,$grid-width/2);\r\n}\r\n.vuejs-clipper-basic__grid-item:nth-child(2) {\r\n  top: 0;\r\n  right: 0;\r\n  border-width: 0 0 $grid-width 0;\r\n  transform: translate(-$grid-width/2,$grid-width/2);\r\n}\r\n.vuejs-clipper-basic__grid-item:nth-child(3) {\r\n  bottom: 0;\r\n  left: 0;\r\n  border-width: 0 $grid-width 0 0;\r\n  transform: translate($grid-width/2,-$grid-width/2);\r\n}\r\n.vuejs-clipper-basic__grid-item:nth-child(4) {\r\n  bottom: 0;\r\n  right: 0;\r\n  border-width: 0;\r\n  transform: translate(-$grid-width/2,-$grid-width/2);\r\n}\r\n</style>\r\n"]}]}